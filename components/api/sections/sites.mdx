import Code from '../Code'
import { Params, Param } from '../Params'

# Sites

## Create a new Fridge site

<Code name='site.create' />

Creates a new site. A default set of API keys will be generated and you will be
added to the reserved `Admin` User Role of the new site.

### Arguments

<Params>
  <Param name='name' required>
    The name of the site.
  </Param>
  <Param name='webhooks'>
    An array of URLs that will be sent a <code>POST</code> request upon site actions.
  </Param>
  <Param name='endpoints' extra={<em>Experimental</em>}>
    An array of URLs that will be whitelisted for providing API access.
  </Param>
</Params>

### HTTP Request

`POST https://api.fridgecms.com/v1/sites`

## Retrieve an existing Fridge site

<Code name='site.get' />

Retrieve the details of an existing site. You must supply the unique site id.

### Arguments

<Params>
  <Param name=':id' required>
    The id of the site to retrieve.
  </Param>
</Params>

### HTTP Request

`GET https://api.fridgecms.com/v1/sites/:id`

## Update a Fridge site

<Code name='site.update' />

Updates the specified site by setting the values of the paramters passed.

### Arguments

<Params>
  <Param name='name'>
    The name of the site.
  </Param>
  <Param name='webhooks'>
    An array of URLs that will be sent a <code>POST</code> request upon site actions.
  </Param>
  <Param name='endpoints' extra={<em>Experimental</em>}>
    An array of URLs that will be whitelisted for providing API access.
  </Param>
</Params>

### HTTP Request

`PUT https://api.fridgecms.com/v1/sites/:id`

## Delete a Fridge site

<Code name='site.delete' />

Permanently deletes a site. It cannot be undone.

<p className='warning'>
  All content, settings, and users belonging to the specified site are also permanently deleted.
</p>

### Arguments

<Params>
  <Param name='id' required>
    The ID of the site to be deleted.
  </Param>
</Params>

### HTTP Request

`DELETE https://api.fridgecms.com/v1/sites/:id`

## List all Fridge sites

<Code name='site.list' />

Retrieve a list of sites.

### HTTP Request

`GET https://api.fridgecms.com/sites`

## Regenerate API keys for a Fridge site

<Code name='site.keys' />

Deletes existing API keys and creates a new public key and private key/secret pair.

### Arguments

<Params>
  <Param name='id' required>
    The ID of the site.
  </Param>
</Params>

### HTTP Request

`PUT https://api.fridgecms.com/sites/:id/regenerate_keys`
